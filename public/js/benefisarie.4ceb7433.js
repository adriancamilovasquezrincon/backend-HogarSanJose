(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["benefisarie"],{"2d0a":function(e,t,a){},"5cb2":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fondo"},[o("div",[o("button",{staticClass:"fecha",on:{click:e.atras}},[o("v-icon",{attrs:{dark:"",left:""}},[e._v(" mdi-arrow-left ")])],1),o("button",{staticClass:"iniciosesion",on:{click:e.cerrar}},[o("img",{staticClass:"iconopersona",attrs:{src:a("7833"),alt:""}}),o("h2",{staticClass:"letrasesion"},[e._v("Cerrar sesión")])])]),o("div",{staticClass:"user"},[o("v-toolbar-title",{staticClass:"beneficiarioss"},[e._v("Beneficiarios")])],1),o("div",{staticClass:"cuadro"},[o("div",{staticClass:"container"},[o("v-data-table",{attrs:{"items-per-page":5,headers:e.headers,items:e.personas,search:e.search,id:"azul"},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{staticClass:"fondocuadro",attrs:{flat:""}},[o("v-spacer"),o("div",{staticClass:"buscar"},[o("v-text-field",{staticClass:"mt-3",attrs:{dark:"","prepend-icon":"mdi-magnify",label:"Búsqueda por el nombre","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),o("v-spacer"),o("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Tipo de Persona"},model:{value:e.editedItem.tipoPersona,callback:function(t){e.$set(e.editedItem,"tipoPersona",t)},expression:"editedItem.tipoPersona"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"numDocumento"},model:{value:e.editedItem.numDocumento,callback:function(t){e.$set(e.editedItem,"numDocumento",t)},expression:"editedItem.numDocumento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"nombres"},model:{value:e.editedItem.nombres,callback:function(t){e.$set(e.editedItem,"nombres",t)},expression:"editedItem.nombres"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"apellidos"},model:{value:e.editedItem.apellidos,callback:function(t){e.$set(e.editedItem,"apellidos",t)},expression:"editedItem.apellidos"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Teléfono"},model:{value:e.editedItem.telefono,callback:function(t){e.$set(e.editedItem,"telefono",t)},expression:"editedItem.telefono"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"lugarNacimiento"},model:{value:e.editedItem.lugarNacimiento,callback:function(t){e.$set(e.editedItem,"lugarNacimiento",t)},expression:"editedItem.lugarNacimiento"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelar}},[e._v(" Cancelar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.actualizar}},[e._v(" Guardar ")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"290"}},[o("v-card",[1==e.Accion?o("v-card-title",{staticClass:"headline"},[e._v(" Activar Item ")]):e._e(),2==e.Accion?o("v-card-title",{staticClass:"headline"},[e._v(" Desactivar Item ")]):e._e(),o("v-card-text",[e._v(" Estás a punto de "),1==e.Accion?o("span",[e._v("activar ")]):e._e(),2==e.Accion?o("span",[e._v("desactivar ")]):e._e(),e._v(" el item "+e._s(e.Nombre)+" ")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(t){return e.activarDesactivarCerrar()}}},[e._v(" Cancelar ")]),1==e.Accion?o("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(t){return e.activar()}}},[e._v(" Activar ")]):e._e(),2==e.Accion?o("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(t){return e.desactivar()}}},[e._v(" Desactivar ")]):e._e()],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1"}},[e._v("Cancel")]),o("v-btn",{attrs:{color:"blue darken-1"}},[e._v("OK")]),o("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.opciones",fn:function(t){var a=t.item;return[o("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{color:"primary",small:""},on:{click:function(t){return e.editarItem(a)}}},"v-icon",e.attrs,!1),e.on),[e._v(" mdi-pencil ")]),a.estado?[o("v-icon",{attrs:{color:"red darken-2",small:""},on:{click:function(t){return e.activarDesactivarMostrar(2,a)}}},[e._v(" mdi-block-helper ")])]:[o("v-icon",{attrs:{color:"green darken-2",small:""},on:{click:function(t){return e.activarDesactivarMostrar(1,a)}}},[e._v(" mdi-check ")])],[o("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"pink"},on:{click:function(t){return e.eliminarBeneficiario(a)}}},[e._v(" X ")])]]}},{key:"no-data",fn:function(){},proxy:!0}],null,!0)})],1)])])},i=[],s=a("5530"),n=a("bc3a"),r=a.n(n),c=a("2f62"),l=a("3d20"),d=a.n(l),m={data:function(){return{search:"",dialog:!1,headers:[{text:"Tipo de Persona",value:"tipoPersona",sortable:!0},{text:"Número de documento",value:"numDocumento"},{text:"Nombres",value:"nombres"},{text:"Apellidos",value:"apellidos"},{text:"Teléfono",value:"telefono"},{text:"Lugar de Nacimiento",value:"lugarNacimiento"},{text:"Opciones",value:"opciones"}],editedItem:{tipoPersona:"beneficiario",numDocumento:"",nombres:"",apellidos:"",telefono:"",lugarNacimiento:"",estado:0}}},computed:Object(s["a"])({},Object(c["c"])({personas:"allBeneficiario"})),created:function(){this.getPersona()},methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["getPersona"])),{},{listarBeneficiarios:function(){var e=this;console.log(this.$store.state.token);var t={headers:{token:this.$store.state.token}};r.a.get("persona",t).then((function(t){console.log(t.data.persona),e.persona=t.data.persona})).catch((function(e){console.log(e)}))},actualizar:function(){var e=this;console.log("Estoy editando la persona"+this.zb+" id "+this.id);var t=this,a={headers:{token:this.$store.state.token}};r.a.put("persona/actualizar/".concat(this.id),{tipoPersona:this.editedItem.tipoPersona,numDocumento:this.editedItem.numDocumento,nombres:this.editedItem.nombres,apellidos:this.editedItem.apellidos,telefono:this.editedItem.telefono,lugarNacimiento:this.editedItem.lugarNacimiento},a).then((function(a){console.log(a.data),t.getPersona(),e.editedItem.tipoPersona="",e.editedItem.numDocumento="",e.editedItem.nombres="",e.editedItem.apellidos="",e.editedItem.telefono="",e.editedItem.lugarNacimiento="",e.editedItem.estado="",e.dialog=!1})).catch((function(e){console.log(e)}))},atras:function(){this.$router.push("/menu"),this.$store.dispatch("setToken",this.$store.state.token)},editarItem:function(e){this.zb=1,console.log(e),this.id=e._id,this.editedItem.tipopersona=e.tipopersona,this.editedItem.numdocumento=e.numdocumento,this.editedItem.nombres=e.nombres,this.editedItem.apellidos=e.apellidos,this.editedItem.telefono=e.telefono,this.editedItem.lugarNacimiento=e.lugarNacimiento,this.dialog=!0},activarDesactivarMostrar:function(e,t){var a=t._id;if(console.log(e),2==e){console.log(a);var o=this,i={headers:{token:this.$store.state.token}};r.a.put("persona/desactivar/".concat(a),{estado:0},i).then((function(){o.getPersona()})).catch((function(e){console.log(e)}))}else if(1==e){console.log(a);var s=this,n={headers:{token:this.$store.state.token}};r.a.put("persona/activar/".concat(a),{estado:1},n).then((function(){s.getPersona()})).catch((function(e){console.log(e)}))}},eliminarBeneficiario:function(e){console.log(e._id);var t=this,a={headers:{token:this.$store.state.token}};r.a.delete("persona/borrar/".concat(e._id),a).then((function(e){console.log(e),t.getPersona()})).catch((function(e){console.log(e)}))},cancelar:function(){var e=this;this.dialog=!1,e.listarBeneficiarios(),this.editedItem.tipoPersona="",this.editedItem.numDocumento="",this.editedItem.nombres="",this.editedItem.apellidos="",this.editedItem.telefono="",this.editedItem.lugarNacimiento="",this.editedItem.estado=""},cerrar:function(){d.a.fire({background:"black",position:"top-center",icon:"success",title:"Su sesión ha finalizado con éxito",showConfirmButton:!1,timer:1500}),this.$store.dispatch("setToken",""),this.$router.push("/")}})},u=m,v=(a("f36a"),a("2877")),f=a("6544"),p=a.n(f),h=a("8336"),b=a("b0af"),g=a("99d9"),k=a("62ad"),I=a("a523"),x=a("8fea"),_=a("169a"),C=a("132d"),D=a("0fd9"),$=a("2fa4"),P=a("8654"),N=a("71d9"),V=a("2a7f"),w=Object(v["a"])(u,o,i,!1,null,null,null);t["default"]=w.exports;p()(w,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:k["a"],VContainer:I["a"],VDataTable:x["a"],VDialog:_["a"],VIcon:C["a"],VRow:D["a"],VSpacer:$["a"],VTextField:P["a"],VToolbar:N["a"],VToolbarTitle:V["a"]})},f36a:function(e,t,a){"use strict";a("2d0a")}}]);
//# sourceMappingURL=benefisarie.4ceb7433.js.map